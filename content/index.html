---
title: Urban Sketchers in Deutschland
---

<h1><span>Urban Sketchers</span><span>in Deutschland</span></h1>

<p>Urban Sketchers freuen sich über Besuch und neue Gesichter. Bei Interesse melde dich einfach bei einer Gruppe in deiner Nähe und schau bei einem Treffen vorbei!</p>

<div class="browse-layout">
  <div class="browse-map">
    <div id="map"></div>
  </div>
  <div class="browse-list">
    <input type="search" id="city-search" placeholder="Stadt suchen…" autocomplete="off">
    <div class="cities">
<% @items.find_all('/cities/*').sort_by { |c| c[:city] }.each do |city| %>
<%
  slug = city[:city].downcase
    .gsub(/[äÄ]/, 'ae').gsub(/[öÖ]/, 'oe').gsub(/[üÜ]/, 'ue').gsub(/ß/, 'ss')
    .gsub(/[^a-z0-9]+/, '-').gsub(/^-|-$/, '')
%>
<article class="city-card" id="city-<%= slug %>" data-city="<%= city[:city].downcase %>" data-slug="<%= slug %>">
  <h3><%= city[:city] %></h3>
  <p class="description"><%= city[:description] %></p>
  <div class="social-links">
<% if city[:facebook] && !city[:facebook].empty? %>
    <a href="<%= city[:facebook] %>" class="btn btn-facebook">Facebook</a>
<% end %>
<% if city[:instagram] && !city[:instagram].empty? %>
    <a href="<%= city[:instagram] %>" class="btn btn-instagram">Instagram</a>
<% end %>
<% if city[:whatsapp] && !city[:whatsapp].empty? %>
    <a href="<%= city[:whatsapp] %>" class="btn btn-whatsapp">WhatsApp</a>
<% end %>
  </div>
</article>
<% end %>
    </div>
  </div>
</div>

<script>
(function() {
  var cities = [
<% @items.find_all('/cities/*').each do |city| %>
<% if city[:lat] && city[:lon] %>
<%
  slug = city[:city].downcase
    .gsub(/[äÄ]/, 'ae').gsub(/[öÖ]/, 'oe').gsub(/[üÜ]/, 'ue').gsub(/ß/, 'ss')
    .gsub(/[^a-z0-9]+/, '-').gsub(/^-|-$/, '')
  desc_escaped = (city[:description] || '').gsub('"', '&quot;').gsub("'", "&#39;")
%>
    {
      name: "<%= city[:city] %>",
      lat: <%= city[:lat] %>,
      lon: <%= city[:lon] %>,
      slug: "<%= slug %>",
      description: "<%= desc_escaped %>",
      facebook: "<%= city[:facebook] || '' %>",
      instagram: "<%= city[:instagram] || '' %>",
      whatsapp: "<%= city[:whatsapp] || '' %>"
    },
<% end %>
<% end %>
  ];

  var map = L.map('map', { scrollWheelZoom: false });

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
    maxZoom: 18
  }).addTo(map);

  var markers = {};

  cities.forEach(function(city) {
    var marker = L.circleMarker([city.lat, city.lon], {
      radius: 12,
      fillColor: '#e85d04',
      color: '#1a1a1a',
      weight: 3,
      opacity: 1,
      fillOpacity: 0.9
    }).addTo(map);

    var popupContent = '<div class="map-popup">' +
      '<strong>' + city.name + '</strong>' +
      '<p>' + city.description + '</p>' +
      '<div class="popup-links">';
    if (city.facebook) popupContent += '<a href="' + city.facebook + '" class="popup-btn popup-fb">Facebook</a>';
    if (city.instagram) popupContent += '<a href="' + city.instagram + '" class="popup-btn popup-ig">Instagram</a>';
    if (city.whatsapp) popupContent += '<a href="' + city.whatsapp + '" class="popup-btn popup-wa">WhatsApp</a>';
    popupContent += '</div></div>';

    marker.bindPopup(popupContent, { maxWidth: 280 });
    markers[city.slug] = marker;
  });

  if (cities.length > 0) {
    var bounds = L.latLngBounds(cities.map(function(c) { return [c.lat, c.lon]; }));
    map.fitBounds(bounds, { padding: [30, 30] });
  }

  document.getElementById('city-search').addEventListener('input', function(e) {
    var query = e.target.value.toLowerCase();

    document.querySelectorAll('.city-card').forEach(function(card) {
      var matches = card.dataset.city.includes(query);
      card.style.display = matches ? '' : 'none';

      var slug = card.dataset.slug;
      if (markers[slug]) {
        if (matches) {
          markers[slug].setStyle({ fillOpacity: 0.7, opacity: 0.9 });
        } else {
          markers[slug].setStyle({ fillOpacity: 0.15, opacity: 0.3 });
        }
      }
    });
  });
})();
</script>
