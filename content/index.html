---
title: Urban Sketchers in Deutschland
---

<hgroup>
  <h1><span>Urban</span><span>Sketchers</span></h1>
  <p>in Deutschland</p>
</hgroup>

<p>Urban Sketchers freuen sich über Besuch und neue Gesichter. Bei Interesse melde dich einfach bei einer Gruppe in deiner Nähe und schau bei einem Treffen vorbei!</p>

<div class="browse-layout">
  <div class="search-filters">
    <input type="search" id="city-search" placeholder="Stadt suchen…" autocomplete="off" autofocus>
    <div class="filters">
      <div class="segmented-control" id="official-filter">
        <label><input type="radio" name="official" value="all" checked> Alle</label>
        <label><input type="radio" name="official" value="official"> Offiziell</label>
        <label><input type="radio" name="official" value="unofficial"> Inoffiziell</label>
      </div>
      <label class="filter-chip"><input type="checkbox" value="website"> Website</label>
      <label class="filter-chip"><input type="checkbox" value="email"> Email</label>
      <label class="filter-chip"><input type="checkbox" value="facebook"> Facebook</label>
      <label class="filter-chip"><input type="checkbox" value="instagram"> Instagram</label>
      <label class="filter-chip"><input type="checkbox" value="bluesky"> Bluesky</label>
      <label class="filter-chip"><input type="checkbox" value="whatsapp"> WhatsApp</label>
    </div>
  </div>
  <div class="browse-map">
    <div id="map"></div>
  </div>
  <div class="browse-list">
    <div class="cities">
<% @items.find_all('/cities/*').sort_by { |c| c[:city] }.each do |city| %>
<%
  slug = city[:city].downcase
    .gsub(/[äÄ]/, 'ae').gsub(/[öÖ]/, 'oe').gsub(/[üÜ]/, 'ue').gsub(/ß/, 'ss')
    .gsub(/[^a-z0-9]+/, '-').gsub(/^-|-$/, '')
%>
<article class="city-card" id="city-<%= slug %>" data-city="<%= city[:city].downcase %>" data-slug="<%= slug %>" data-official="<%= city[:is_official] ? '1' : '' %>" data-website="<%= city[:website] && !city[:website].empty? ? '1' : '' %>" data-email="<%= city[:email] && !city[:email].empty? ? '1' : '' %>" data-facebook="<%= city[:facebook] && !city[:facebook].empty? ? '1' : '' %>" data-instagram="<%= city[:instagram] && !city[:instagram].empty? ? '1' : '' %>" data-bluesky="<%= city[:bluesky] && !city[:bluesky].empty? ? '1' : '' %>" data-whatsapp="<%= city[:whatsapp] && !city[:whatsapp].empty? ? '1' : '' %>">
<% if city[:is_official] %><img src="/usk-logo.png" alt="Offizielles Chapter" class="official-badge"><% end %>
  <h3><%= city[:city] %></h3>
  <p class="description"><%= city[:description] %></p>
  <div class="social-links">
<% if city[:website] && !city[:website].empty? %>
    <a href="<%= city[:website].start_with?('http') ? city[:website] : 'https://' + city[:website] %>" class="btn btn-website" target="_blank" rel="noopener"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 15L20 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 9L20 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12.0004 20.8182L11.2862 21.5181C11.4742 21.7101 11.7317 21.8182 12.0004 21.8182C12.2691 21.8182 12.5265 21.7101 12.7146 21.5181L12.0004 20.8182ZM12.0004 3.18188L12.7146 2.48198C12.5265 2.29005 12.2691 2.18188 12.0004 2.18188C11.7317 2.18188 11.4742 2.29005 11.2861 2.48198L12.0004 3.18188ZM14.6004 12.0001C14.6004 15.1611 13.3373 18.0251 11.2862 20.1183L12.7146 21.5181C15.1173 19.0662 16.6004 15.7053 16.6004 12.0001H14.6004ZM11.2861 3.88178C13.3373 5.97501 14.6004 8.83903 14.6004 12.0001H16.6004C16.6004 8.29478 15.1173 4.93389 12.7146 2.48198L11.2861 3.88178ZM9.40039 12.0001C9.40039 8.83903 10.6634 5.97501 12.7146 3.88178L11.2861 2.48198C8.88347 4.93389 7.40039 8.29478 7.40039 12.0001H9.40039ZM12.7146 20.1183C10.6634 18.0251 9.40039 15.1611 9.40039 12.0001H7.40039C7.40039 15.7053 8.88348 19.0662 11.2862 21.5181L12.7146 20.1183Z" fill="currentColor"/></svg> Website</a>
<% end %>
<% if city[:email] && !city[:email].empty? %>
<%   email_addr = city[:email] =~ /<(.+)>/ ? $1 : city[:email] %>
    <a href="mailto:<%= encode_email(email_addr) %>" class="btn btn-email"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 7.00005L10.2 11.65C11.2667 12.45 12.7333 12.45 13.8 11.65L20 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg> E-Mail</a>
<% end %>
<% if city[:facebook] && !city[:facebook].empty? %>
    <a href="<%= city[:facebook] %>" class="btn btn-facebook" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" fill="currentColor"><path d="M16,2c-7.732,0-14,6.268-14,14,0,6.566,4.52,12.075,10.618,13.588v-9.31h-2.887v-4.278h2.887v-1.843c0-4.765,2.156-6.974,6.835-6.974,.887,0,2.417,.174,3.043,.348v3.878c-.33-.035-.904-.052-1.617-.052-2.296,0-3.183,.87-3.183,3.13v1.513h4.573l-.786,4.278h-3.787v9.619c6.932-.837,12.304-6.74,12.304-13.897,0-7.732-6.268-14-14-14Z"></path></svg> Facebook</a>
<% end %>
<% if city[:instagram] && !city[:instagram].empty? %>
    <a href="https://instagram.com/<%= city[:instagram].sub(/^@/, '') %>" class="btn btn-instagram" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" fill="currentColor"><path d="M10.202,2.098c-1.49,.07-2.507,.308-3.396,.657-.92,.359-1.7,.84-2.477,1.619-.776,.779-1.254,1.56-1.61,2.481-.345,.891-.578,1.909-.644,3.4-.066,1.49-.08,1.97-.073,5.771s.024,4.278,.096,5.772c.071,1.489,.308,2.506,.657,3.396,.359,.92,.84,1.7,1.619,2.477,.779,.776,1.559,1.253,2.483,1.61,.89,.344,1.909,.579,3.399,.644,1.49,.065,1.97,.08,5.771,.073,3.801-.007,4.279-.024,5.773-.095s2.505-.309,3.395-.657c.92-.36,1.701-.84,2.477-1.62s1.254-1.561,1.609-2.483c.345-.89,.579-1.909,.644-3.398,.065-1.494,.081-1.971,.073-5.773s-.024-4.278-.095-5.771-.308-2.507-.657-3.397c-.36-.92-.84-1.7-1.619-2.477s-1.561-1.254-2.483-1.609c-.891-.345-1.909-.58-3.399-.644s-1.97-.081-5.772-.074-4.278,.024-5.771,.096m.164,25.309c-1.365-.059-2.106-.286-2.6-.476-.654-.252-1.12-.557-1.612-1.044s-.795-.955-1.05-1.608c-.192-.494-.423-1.234-.487-2.599-.069-1.475-.084-1.918-.092-5.656s.006-4.18,.071-5.656c.058-1.364,.286-2.106,.476-2.6,.252-.655,.556-1.12,1.044-1.612s.955-.795,1.608-1.05c.493-.193,1.234-.422,2.598-.487,1.476-.07,1.919-.084,5.656-.092,3.737-.008,4.181,.006,5.658,.071,1.364,.059,2.106,.285,2.599,.476,.654,.252,1.12,.555,1.612,1.044s.795,.954,1.051,1.609c.193,.492,.422,1.232,.486,2.597,.07,1.476,.086,1.919,.093,5.656,.007,3.737-.006,4.181-.071,5.656-.06,1.365-.286,2.106-.476,2.601-.252,.654-.556,1.12-1.045,1.612s-.955,.795-1.608,1.05c-.493,.192-1.234,.422-2.597,.487-1.476,.069-1.919,.084-5.657,.092s-4.18-.007-5.656-.071M21.779,8.517c.002,.928,.755,1.679,1.683,1.677s1.679-.755,1.677-1.683c-.002-.928-.755-1.679-1.683-1.677,0,0,0,0,0,0-.928,.002-1.678,.755-1.677,1.683m-12.967,7.496c.008,3.97,3.232,7.182,7.202,7.174s7.183-3.232,7.176-7.202c-.008-3.97-3.233-7.183-7.203-7.175s-7.182,3.233-7.174,7.203m2.522-.005c-.005-2.577,2.08-4.671,4.658-4.676,2.577-.005,4.671,2.08,4.676,4.658,.005,2.577-2.08,4.671-4.658,4.676-2.577,.005-4.671-2.079-4.676-4.656h0"></path></svg> Instagram</a>
<% end %>
<% if city[:bluesky] && !city[:bluesky].empty? %>
    <a href="https://bsky.app/profile/<%= city[:bluesky].sub(/^@/, '') %>" class="btn btn-bluesky" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" fill="currentColor"><path d="M23.931,5.298c-3.21,2.418-6.663,7.32-7.931,9.951-1.267-2.631-4.721-7.533-7.931-9.951-2.316-1.744-6.069-3.094-6.069,1.201,0,.857,.49,7.206,.778,8.237,.999,3.583,4.641,4.497,7.881,3.944-5.663,.967-7.103,4.169-3.992,7.372,5.908,6.083,8.492-1.526,9.154-3.476,.123-.36,.179-.527,.179-.379,0-.148,.057,.019,.179,.379,.662,1.949,3.245,9.558,9.154,3.476,3.111-3.203,1.671-6.405-3.992-7.372,3.24,.553,6.882-.361,7.881-3.944,.288-1.031,.778-7.38,.778-8.237,0-4.295-3.753-2.945-6.069-1.201Z"></path></svg> Bluesky</a>
<% end %>
<% if city[:whatsapp] && !city[:whatsapp].empty? %>
    <a href="<%= city[:whatsapp] %>" class="btn btn-whatsapp" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" fill="currentColor"><path d="M25.873,6.069c-2.619-2.623-6.103-4.067-9.814-4.069C8.411,2,2.186,8.224,2.184,15.874c-.001,2.446,.638,4.833,1.852,6.936l-1.969,7.19,7.355-1.929c2.026,1.106,4.308,1.688,6.63,1.689h.006c7.647,0,13.872-6.224,13.874-13.874,.001-3.708-1.44-7.193-4.06-9.815h0Zm-9.814,21.347h-.005c-2.069,0-4.099-.557-5.87-1.607l-.421-.25-4.365,1.145,1.165-4.256-.274-.436c-1.154-1.836-1.764-3.958-1.763-6.137,.003-6.358,5.176-11.531,11.537-11.531,3.08,.001,5.975,1.202,8.153,3.382,2.177,2.179,3.376,5.077,3.374,8.158-.003,6.359-5.176,11.532-11.532,11.532h0Zm6.325-8.636c-.347-.174-2.051-1.012-2.369-1.128-.318-.116-.549-.174-.78,.174-.231,.347-.895,1.128-1.098,1.359-.202,.232-.405,.26-.751,.086-.347-.174-1.464-.54-2.788-1.72-1.03-.919-1.726-2.054-1.929-2.402-.202-.347-.021-.535,.152-.707,.156-.156,.347-.405,.52-.607,.174-.202,.231-.347,.347-.578,.116-.232,.058-.434-.029-.607-.087-.174-.78-1.88-1.069-2.574-.281-.676-.567-.584-.78-.595-.202-.01-.433-.012-.665-.012s-.607,.086-.925,.434c-.318,.347-1.213,1.186-1.213,2.892s1.242,3.355,1.416,3.587c.174,.232,2.445,3.733,5.922,5.235,.827,.357,1.473,.571,1.977,.73,.83,.264,1.586,.227,2.183,.138,.666-.1,2.051-.839,2.34-1.649,.289-.81,.289-1.504,.202-1.649s-.318-.232-.665-.405h0Z" fill-rule="evenodd"></path></svg> WhatsApp</a>
<% end %>
  </div>
</article>
<% end %>
    </div>
  </div>
</div>

<script>
{
  const cities = [
<% @items.find_all('/cities/*').each do |city| %>
<% if city[:lat] && city[:lon] %>
<%
  slug = city[:city].downcase
    .gsub(/[äÄ]/, 'ae').gsub(/[öÖ]/, 'oe').gsub(/[üÜ]/, 'ue').gsub(/ß/, 'ss')
    .gsub(/[^a-z0-9]+/, '-').gsub(/^-|-$/, '')
  desc_escaped = (city[:description] || '').gsub('"', '&quot;').gsub("'", "&#39;")
  raw_email = city[:email] || ''
  email_addr = raw_email =~ /<(.+)>/ ? $1 : raw_email
  encoded_email = email_addr.empty? ? '' : encode_email(email_addr)
%>
    {
      name: "<%= city[:city] %>",
      lat: <%= city[:lat] %>,
      lon: <%= city[:lon] %>,
      slug: "<%= slug %>",
      description: "<%= desc_escaped %>",
      website: "<%= city[:website] || '' %>",
      email: "<%= encoded_email %>",
      facebook: "<%= city[:facebook] || '' %>",
      instagram: "<%= city[:instagram] || '' %>",
      bluesky: "<%= city[:bluesky] || '' %>",
      whatsapp: "<%= city[:whatsapp] || '' %>"
    },
<% end %>
<% end %>
  ];

  const createPopupContent = ({ name, description, website, email, facebook, instagram, bluesky, whatsapp }) => {
    const websiteUrl = website && (website.startsWith('http') ? website : 'https://' + website);
    const links = [
      website && `<a href="${websiteUrl}" class="popup-btn popup-web" target="_blank" rel="noopener">Website</a>`,
      email && `<a href="mailto:${email}" class="popup-btn popup-email">E-Mail</a>`,
      facebook && `<a href="${facebook}" class="popup-btn popup-fb" target="_blank" rel="noopener">Facebook</a>`,
      instagram && `<a href="https://instagram.com/${instagram.replace(/^@/, '')}" class="popup-btn popup-ig" target="_blank" rel="noopener">Instagram</a>`,
      bluesky && `<a href="https://bsky.app/profile/${bluesky.replace(/^@/, '')}" class="popup-btn popup-bs" target="_blank" rel="noopener">Bluesky</a>`,
      whatsapp && `<a href="${whatsapp}" class="popup-btn popup-wa" target="_blank" rel="noopener">WhatsApp</a>`
    ].filter(Boolean).join('');

    return `
      <div class="map-popup">
        <strong>${name}</strong>
        <p>${description}</p>
        <div class="popup-links">${links}</div>
      </div>
    `;
  };

  const map = L.map('map', { scrollWheelZoom: false });

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
    maxZoom: 18
  }).addTo(map);

  const markers = new Map();

  for (const city of cities) {
    const marker = L.circleMarker([city.lat, city.lon], {
      radius: 12,
      fillColor: '#e85d04',
      color: '#1a1a1a',
      weight: 3,
      opacity: 1,
      fillOpacity: 0.9
    }).addTo(map);

    marker.bindPopup(createPopupContent(city), { maxWidth: 280 });
    markers.set(city.slug, marker);
  }

  if (cities.length > 0) {
    const bounds = L.latLngBounds(cities.map(({ lat, lon }) => [lat, lon]));
    map.fitBounds(bounds, { padding: [30, 30] });
  }

  const searchInput = document.getElementById('city-search');
  const filterCheckboxes = document.querySelectorAll('.filters input[type="checkbox"]');
  const officialRadios = document.querySelectorAll('#official-filter input[type="radio"]');

  const applyFilters = () => {
    const query = searchInput.value.toLowerCase();
    const activeFilters = [...filterCheckboxes].filter(cb => cb.checked).map(cb => cb.value);
    const officialFilter = document.querySelector('#official-filter input:checked')?.value || 'all';

    for (const card of document.querySelectorAll('.city-card')) {
      const matchesSearch = card.dataset.city.includes(query);
      const matchesFilters = activeFilters.length === 0 || activeFilters.every(f => card.dataset[f] === '1');
      const matchesOfficial = officialFilter === 'all' ||
        (officialFilter === 'official' && card.dataset.official === '1') ||
        (officialFilter === 'unofficial' && card.dataset.official !== '1');
      const matches = matchesSearch && matchesFilters && matchesOfficial;

      card.style.display = matches ? '' : 'none';

      const marker = markers.get(card.dataset.slug);
      marker?.setStyle({
        fillOpacity: matches ? 0.9 : 0.15,
        opacity: matches ? 1 : 0.3
      });
    }
  };

  searchInput.addEventListener('input', applyFilters);
  filterCheckboxes.forEach(cb => cb.addEventListener('change', applyFilters));
  officialRadios.forEach(r => r.addEventListener('change', applyFilters));

  for (const card of document.querySelectorAll('.city-card')) {
    card.style.cursor = 'pointer';

    card.addEventListener('click', (e) => {
      if (e.target.closest('a')) return;
      markers.get(card.dataset.slug)?.openPopup();
    });
  }
}
</script>
